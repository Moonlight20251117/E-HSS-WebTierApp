<div class="business-content-item">
    <h2>æˆ‘çš„å¸–å­</h2>
    <div class="toolbar">
        <select class="filter-select">
            <option value="all">å…¨éƒ¨</option>
            <option value="pending">å¾…å®¡æ ?/option>
            <option value="approved">å·²é€šè¿‡</option>
            <option value="rejected">å·²æ‹’ç»?/option>
        </select>
        <button class="btn btn-primary" onclick="loadMyPosts()">åˆ·æ–°</button>
    </div>
    
    <div class="posts-container" id="my-posts-container">
        <!-- æˆ‘çš„å¸–å­åˆ—è¡¨å°†é€šè¿‡JSåŠ¨æ€åŠ è½?-->
    </div>
</div>
<link rel="stylesheet" href="../../../business/css/forum.css">
<script src="../../../business/scripts/forum.js"></script>
<script>
function loadMyPosts() {
    fetch('../../../../servlet/enterprise/CooperationForumServlet_enterprise?action=myPosts')
        .then(response => response.json())
        .then(posts => {
            renderMyPosts(posts);
        })
        .catch(error => {
            console.error('åŠ è½½æˆ‘çš„å¸–å­å¤±è´¥:', error);
        });
}

function renderMyPosts(posts) {
    const container = document.getElementById('my-posts-container');
    if (!container) return;
    
    container.innerHTML = '';
    
    posts.forEach(post => {
        const postCard = document.createElement('div');
        postCard.className = 'post-card';
        postCard.innerHTML = `
            <div class="post-header">
                <span class="post-author">æˆ?/span>
                <span class="post-time">${post.createTime}</span>
            </div>
            <div class="post-title">${post.title}</div>
            <div class="post-content">${post.content}</div>
            <div class="post-actions">
                <button class="edit-btn" onclick="editPost(${post.id})">ç¼–è¾‘</button>
                <button class="delete-btn" onclick="deletePost(${post.id})">åˆ é™¤</button>
            </div>
        `;
        container.appendChild(postCard);
    });
}
</script>

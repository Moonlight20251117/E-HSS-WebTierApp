<div class="business-content-item">
    <div class="content-header-row">
        <h2>åŒ»ç–—å’¨è¯¢</h2>
    </div>
    
    <div class="toolbar">
        <select class="filter-select">
            <option value="all">å…¨éƒ¨</option>
            <option value="pending">å¾…å›å¤?/option>
            <option value="replied">å·²å›å¤?/option>
        </select>
        <button class="btn btn-primary" onclick="loadAdviceRequests()">åˆ·æ–°</button>
    </div>
    
    <div id="advice-container">
        <!-- å’¨è¯¢è¯·æ±‚åˆ—è¡¨å°†é€šè¿‡JSåŠ¨æ€åŠ è½?-->
    </div>
</div>
<link rel="stylesheet" href="../../../../css/business-common.css">
<script>
function loadAdviceRequests() {
    fetch('../../../../servlet/hospital/doctor/MedicalAdviceServlet?action=list')
        .then(response => response.json())
        .then(requests => {
            renderAdviceRequests(requests);
        })
        .catch(error => {
            console.error('åŠ è½½å’¨è¯¢è¯·æ±‚å¤±è´¥:', error);
        });
}

function renderAdviceRequests(requests) {
    const container = document.getElementById('advice-container');
    if (!container) return;
    
    container.innerHTML = '';
    
    requests.forEach(req => {
        const reqCard = document.createElement('div');
        reqCard.className = 'card-item';
        reqCard.innerHTML = `
            <div class="card-title">${req.patientName} - ${req.createTime}</div>
            <div class="card-content">${req.question}</div>
            <div class="card-actions">
                <button onclick="replyAdvice(${req.id})">å›å¤</button>
            </div>
        `;
        container.appendChild(reqCard);
    });
}
</script>


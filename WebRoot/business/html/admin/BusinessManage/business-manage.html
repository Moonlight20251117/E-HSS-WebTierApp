<div class="business-content-item">
    <div class="content-header-row">
        <h2>ä¸šåŠ¡ç®¡ç†</h2>
        <button class="btn btn-primary" onclick="addBusiness()">æ–°å¢ä¸šåŠ¡</button>
    </div>
    
    <div class="toolbar">
        <input type="text" placeholder="æœç´¢ä¸šåŠ¡..." class="search-input">
        <button class="btn btn-primary" onclick="loadBusinessList()">åˆ·æ–°</button>
    </div>
    
    <div id="business-list-container">
        <!-- ä¸šåŠ¡åˆ—è¡¨å°†é€šè¿‡JSåŠ¨æ€åŠ è½?-->
    </div>
</div>
<link rel="stylesheet" href="../../../business/css/business-common.css">
<script>
function loadBusinessList() {
    fetch('../../../../servlet/admin/BusinessManageServlet?action=list')
        .then(response => response.json())
        .then(businesses => {
            renderBusinessList(businesses);
        })
        .catch(error => {
            console.error('åŠ è½½ä¸šåŠ¡åˆ—è¡¨å¤±è´¥:', error);
        });
}

function renderBusinessList(businesses) {
    const container = document.getElementById('business-list-container');
    if (!container) return;
    
    let html = '<table class="data-table"><thead><tr><th>ä¸šåŠ¡ID</th><th>ä¸šåŠ¡åç§°</th><th>çŠ¶æ€?/th><th>æ“ä½œ</th></tr></thead><tbody>';
    
    businesses.forEach(business => {
        html += `
            <tr>
                <td>${business.id}</td>
                <td>${business.name}</td>
                <td>${business.status}</td>
                <td>
                    <button onclick="editBusiness(${business.id})">ç¼–è¾‘</button>
                    <button onclick="deleteBusiness(${business.id})">åˆ é™¤</button>
                </td>
            </tr>
        `;
    });
    
    html += '</tbody></table>';
    container.innerHTML = html;
}
</script>

